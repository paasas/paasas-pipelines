create table cloud_run_analysis (service_name varchar(255) not null, tag varchar(255), pull_request_analysis_number integer not null, pull_request_analysis_owner varchar(255) not null, pull_request_analysis_repository varchar(255) not null, primary key (pull_request_analysis_number, pull_request_analysis_owner, pull_request_analysis_repository, service_name));
create table cloud_run_deployment (build varchar(255) not null, job varchar(255) not null, pipeline varchar(255) not null, team varchar(255) not null, app clob, project_id varchar(255), timestamp timestamp(6), url clob, image varchar(255), tag varchar(255), primary key (build, job, pipeline, team));
create table firebase_app_analysis (pull_request_analysis_number integer not null, pull_request_analysis_owner varchar(255) not null, pull_request_analysis_repository varchar(255) not null, primary key (pull_request_analysis_number, pull_request_analysis_owner, pull_request_analysis_repository));
create table firebase_app_deployment (build varchar(255) not null, job varchar(255) not null, pipeline varchar(255) not null, team varchar(255) not null, config clob, project_id varchar(255), timestamp timestamp(6), url clob, branch varchar(255), commit varchar(255), commit_author varchar(255), path varchar(255), repository varchar(255), repository_owner varchar(255), tag varchar(255), npm clob, primary key (build, job, pipeline, team));
create table pull_request_analysis (number integer not null, owner varchar(255) not null, repository varchar(255) not null, commit varchar(255), commit_author varchar(255), manifest clob, project_id varchar(255), pull_request_number integer not null, requester varchar(255), primary key (number, owner, repository));
create table terraform_analysis (package_name varchar(255) not null, pull_request_analysis_number integer not null, pull_request_analysis_owner varchar(255) not null, pull_request_analysis_repository varchar(255) not null, primary key (package_name, pull_request_analysis_number, pull_request_analysis_owner, pull_request_analysis_repository));
create table terraform_deployment (build varchar(255) not null, job varchar(255) not null, pipeline varchar(255) not null, team varchar(255) not null, project_id varchar(255), timestamp timestamp(6), url clob, branch varchar(255), commit varchar(255), commit_author varchar(255), path varchar(255), repository varchar(255), repository_owner varchar(255), tag varchar(255), package_name varchar(255), params clob, primary key (build, job, pipeline, team));
alter table if exists cloud_run_analysis add constraint FKmav72r75fxsm98g9vomw6qq1u foreign key (pull_request_analysis_number, pull_request_analysis_owner, pull_request_analysis_repository) references pull_request_analysis;
alter table if exists firebase_app_analysis add constraint FKcyofa05k1p0acekkca75dq5dk foreign key (pull_request_analysis_number, pull_request_analysis_owner, pull_request_analysis_repository) references pull_request_analysis;
alter table if exists terraform_analysis add constraint FKbct2s3xh1kqs73vhfqya0iimv foreign key (pull_request_analysis_number, pull_request_analysis_owner, pull_request_analysis_repository) references pull_request_analysis;
